
/*@preserve
***Version 2.21.0***
*/

/*@license
 *                       Copyright 2002 - 2018 Qualtrics, LLC.
 *                                All rights reserved.
 *
 * Notice: All code, text, concepts, and other information herein (collectively, the
 * "Materials") are the sole property of Qualtrics, LLC, except to the extent
 * otherwise indicated. The Materials are proprietary to Qualtrics and are protected
 * under all applicable laws, including copyright, patent (as applicable), trade
 * secret, and contract law. Disclosure or reproduction of any Materials is strictly
 * prohibited without the express prior written consent of an authorized signatory
 * of Qualtrics. For disclosure requests, please contact notice@qualtrics.com.
 */

try {
  !function(i){var t={};function e(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=i,e.c=t,e.d=function(i,t,s){e.o(i,t)||Object.defineProperty(i,t,{enumerable:!0,get:s})},e.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.t=function(i,t){if(1&t&&(i=e(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var o in i)e.d(s,o,function(t){return i[t]}.bind(null,o));return s},e.n=function(i){var t=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(t,"a",t),t},e.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},e.p="",e(e.s=0)}([function(i,t,e){i.exports=e(1)},function(i,t){(void 0===window.QSI.UserDefinedHTML||window.QTest)&&(QSI.UserDefinedHTML=QSI.util.Creative(QSI.BuildElementModule,{initialize:function(i){this.globalInitialize(i),this.shouldShow()&&this.display()},display:function(){this.resetStyles(),this.options.elements?(this.elements=this.options.elements.Elements||[],this.minTop=this.options.elements.MinTop,this.minLeft=this.options.elements.MinLeft,QSI.util.processLocators(this.elements),this.creativeContainer=this.build(),this.node=this.creativeContainer,this.width&&this.height&&(this.options.size={width:this.width,height:this.height})):this.options.html&&(this.options.locators&&(QSI.PipedText.setLocators(this.options.locators),this.options.html=QSI.PipedText.evaluateLocators(this.options.html)),this.node=QSI.util.build("div",{style:{width:this.options.size.width+"px",height:this.options.size.height+"px",overflow:"hidden"}}),QSI.global.enableJSSanitization&&void 0!==QSI.DOMPurify&&(this.options.html=QSI.DOMPurify.sanitize(this.options.html)),this.node.innerHTML=this.options.html),this.insert()},build:function(){for(var i=[],t=0,e=0,s=0,o=this.elements.length;s<o;s++){var n=this.buildElement(this.elements[s]);n&&("EmbeddedTarget"===this.elements[s].type&&(this.embeddedTargetOptions=this.elements[s],this.embeddedTargetContainer=n),n.bc&&n.bc.x>t&&(t=n.bc.x),n.bc&&n.bc.y>e&&(e=n.bc.y),i.push(n))}return this.width=t,this.height=e,QSI.util.build("div",{className:"QSIUserDefinedHTML "+this.id+"_UserDefinedHTMLContainer",style:{width:t+"px",height:e+"px",overflow:"hidden",position:"relative"}},i)},getYPosition:function(i){return i.top-this.minTop},getXPosition:function(i){return i.left-this.minLeft},getElementStyle:function(i,t){return{top:this.getYPosition(t)+"px",left:this.getXPosition(t)+"px",position:"absolute",zIndex:i.zIndex,width:i.width+"px",height:i.height+"px",backgroundColor:i.backgroundColor,borderWidth:i.borderWidth+"px",borderColor:i.borderColor,borderStyle:"solid",borderRadius:i.borderRadius+"px",display:i.display}},resize:function(){if(this.width&&this.height&&this.creativeContainer&&this.options.insertionLocation&&this.displayOptions.resizeToFitInsertionLocation){var i=QSI.util.$(this.options.insertionLocation);if(i){if(!this.targetContainerResizeObserver){var t=function(){this.waitingToReceiveSurveyHeightForResize||(this.resize(),this.displayOptions.customPosition&&this.position())}.bind(this);this.targetContainerResizeObserver=new ResizeObserver(t),this.targetContainerResizeObserver.observe(i)}var e=this.width,s=this.height,o=g(QSI.util.getDimensions(i).width/e),n=this.displayOptions.lockAspectRatioWhenResizing?o:1;this.surveyHeightResizeVerticalScaleFactor&&this.surveyHeightResizeVerticalScaleFactor>n&&(n=g(this.surveyHeightResizeVerticalScaleFactor),this.displayOptions.lockAspectRatioWhenResizing&&(o=n));var r=QSI.util.getPageSize(),h=g(r.width/e),a=g(r.height/s);this.surveyHeightResizeVerticalScaleFactor&&(o>h||n>a)&&(o=Math.min(o,h),n=Math.min(n,a),this.displayOptions.lockAspectRatioWhenResizing&&(n=o=Math.min(o,n)));var l=g(e*o),d=g(s*n);if(QSI.util.setStyle(this.creativeContainer,{transformOrigin:"top left",transform:"scale("+o+", "+n+")"}),this.resizeContainer?QSI.util.setStyle(this.resizeContainer,{width:l+"px",height:d+"px"}):(this.resizeContainer=QSI.util.build("div",{className:"QSIUserDefinedHTML "+this.id+"_UserDefinedHTMLResizedContainer",style:{width:l+"px",height:d+"px",overflow:"hidden",position:"relative"}}),this.resizeContainer.appendChild(this.creativeContainer),this.node=this.resizeContainer),this.embeddedTargetOptions&&this.embeddedTargetContainer){var p=g(this.embeddedTargetOptions.style.width*o);if(this.waitingToReceiveSurveyHeightForResize&&p>768&&(p=768),QSI.util.setStyle(this.embeddedTargetContainer,{width:p+"px",height:g(this.embeddedTargetOptions.style.height*n)+"px",transformOrigin:"top left",transform:"scale("+g(1/o)+", "+g(1/n)+")"}),this.embeddedTargetContainer.children){for(var c=[],f=0;f<this.embeddedTargetContainer.children.length;f++)c.push(this.embeddedTargetContainer.children[f]);for(;c.length>0;){var u=c.shift();if(u.name!=="survey-iframe-"+this.id&&QSI.util.setStyle(u,{width:"100%",height:"100%"}),u.children)for(f=0;f<u.children.length;f++)c.push(u.children[f])}}}this.options.size={width:l,height:d}}}function g(i){return Math.round(100*(i+Number.EPSILON))/100}},surveyHeightEventListener:function(i){try{var t=window.QSI.util.validatePostMessage(i);if(!t||"JFE"!==t.from||"SI"!==t.to||"sendingSurveyHeight"!==t.event||"string"!=typeof t.value||!t.value.match(/^\d+(\.\d+)?(px)$/))return;var e=(parseInt(t.value)+6)/this.embeddedTargetOptions.style.height;this.waitingToReceiveSurveyHeightForResize=!1,e>1&&(this.surveyHeightResizeVerticalScaleFactor=e,this.resize(),this.displayOptions.customPosition&&this.position()),window.removeEventListener("message",this.surveyHeightEventListener)}catch(i){window.removeEventListener("message",this.surveyHeightEventListener),void 0!==window.QSI&&window.QSI.dbg&&window.QSI.dbg.e&&window.QSI.dbg.e(i)}},insert:function(){if(this.options.insertionLocation){if(this.container=QSI.util.$(this.options.insertionLocation),!this.container)return;this.impress(),(void 0===this.displayOptions.replaceContents||this.displayOptions.replaceContents)&&(this.container.textContent=""),this.displayOptions.resizeToFitInsertionLocation&&(this.displayOptions.resizeToFitSurveyHeight&&this.embeddedTargetContainer&&(this.waitingToReceiveSurveyHeightForResize=!0,window.addEventListener("message",this.surveyHeightEventListener.bind(this))),this.resize()),this.displayOptions.customPosition&&this.position(),this.displayOptions.insertContentsBefore?this.container.parentNode&&this.container.parentNode.insertBefore(this.node,this.container):this.displayOptions.insertContentsAfter?this.container.parentNode&&this.container.parentNode.insertBefore(this.node,this.container.nextSibling):this.container.appendChild(this.node),this.displayOptions.fixToPage&&!this.displayOptions.resizeToFitInsertionLocation&&(""!==this.displayOptions.minFixDist?this.scrollFix():this.fixPosition()),this.initializeIframes(),this.displayed.resolve()}},position:function(){if(!this.displayOptions.insertContentsBefore&&!this.displayOptions.insertContentsAfter){var i,t,e=this.displayOptions.position,s=1*(this.displayOptions.xOffset||0),o=1*(this.displayOptions.yOffset||0),n=QSI.util.getDimensions(this.container),r=this.options.size,h=n.height/2-r.height/2,a=n.width/2-r.width/2,l={},d={};switch(e){default:case"TL":d={top:0+o+"px",left:(i=0+s)+"px"};break;case"ML":d={top:h+o+"px",left:(i=0+s)+"px"};break;case"BL":d={bottom:0-o+"px",left:(i=0+s)+"px"};break;case"TC":d={top:0+o+"px",left:(i=a+s)+"px"};break;case"MC":d={top:h+o+"px",left:(i=a+s)+"px"};break;case"BC":d={bottom:0-o+"px",left:(i=a+s)+"px"};break;case"TR":d={top:0+o+"px",right:(t=0-s)+"px"};break;case"MR":d={top:h+o+"px",right:(t=0-s)+"px"};break;case"BR":d={bottom:0-o+"px",right:(t=0-s)+"px"};break;case"OML":l={overflow:"visible"},d={top:h+o+"px",left:(i=-r.width+s)+"px"};break;case"OTLL":l={overflow:"visible"},d={top:0+o+"px",left:(i=-r.width+s)+"px"};break;case"OTLT":l={overflow:"visible"},i=0+s,d={top:-r.height+o+"px",left:i+"px"};break;case"OBLL":l={overflow:"visible"},d={bottom:0-o+"px",left:(i=-r.width+s)+"px"};break;case"OBLB":l={overflow:"visible"},i=0+s,d={bottom:-r.height-o+"px",left:i+"px"};break;case"OTC":l={overflow:"visible"},i=a+s,d={top:-r.height+o+"px",left:i+"px"};break;case"OTRT":l={overflow:"visible"},t=0-s,d={top:-r.height+o+"px",right:t+"px"};break;case"OTRR":l={overflow:"visible"},d={top:0+o+"px",right:(t=-r.width-s)+"px"};break;case"OMR":l={overflow:"visible"},d={top:h+o+"px",right:(t=-r.width-s)+"px"};break;case"OBRR":l={overflow:"visible"},d={bottom:0-o+"px",right:(t=-r.width-s)+"px"};break;case"OBRB":l={overflow:"visible"},t=0-s,d={bottom:-r.height-o+"px",right:t+"px"};break;case"OBC":l={overflow:"visible"},i=a+s,d={bottom:-r.height-o+"px",left:i+"px"}}d.position="absolute",l.position="relative",QSI.util.setStyle(this.container,l),QSI.util.setStyle(this.node,d)}},scrollFix:function(){var i=this,t=1*this.displayOptions.minFixDist,e=QSI.util.cumulativeOffset(this.node),s=function(){try{var s=QSI.util.getScrollOffsets().top;if(e.top-s<t&&!i.fixed){var o=Math.max(e.top-s,t);i.fixPosition(o)}else e.top-s>t&&i.fixed&&i.unfixPosition()}catch(i){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(i)}};QSI.util.observe(window,"scroll",s),0!==QSI.util.getScrollOffsets().top&&s()},fixPosition:function(i){var t=QSI.util.cumulativeOffset(this.node),e=t.top;void 0!==i&&(e=i),QSI.util.setStyle(this.node,{top:e+"px",left:t.left+"px",position:"fixed"}),this.fixed=!0;var s=this,o=0,n=function(){try{s.finishResize()}catch(i){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(i)}};this.resizeW||(this.resizeW=QSI.util.observe(window,"resize",(function(){try{o!==QSI.util.getPageSize().height&&(s.resizing?(clearTimeout(s.resizeW),s.resizeW=setTimeout(n,500)):(s.unfixPosition(),s.resizing=!0,s.resizeW=setTimeout(n,500)),o=QSI.util.getPageSize().height)}catch(i){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(i)}})))},finishResize:function(){this.resizing=!1,clearTimeout(this.resizeW),this.fixPosition()},unfixPosition:function(){this.resizeW&&clearTimeout(this.resizeW),QSI.util.setStyle(this.node,{top:"auto",left:"auto",position:"fixed"}),this.position(),this.fixed=!1},remove:function(){this.node&&QSI.util.remove(this.node)}}))}]);
} catch(e) {
  if (typeof QSI !== 'undefined' && QSI.dbg && QSI.dbg.e) {
    QSI.dbg.e(e);
  }
}